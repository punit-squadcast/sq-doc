---
title: Incident Webhook
tags: [integration, api]
last\_updated:
keywords:
summary: "Send events to create incidents in Squadcast using Incident Webhook (generic incoming Webhook)"
sidebar: mydoc\_sidebar
permalink: docs/apiv2
folder: mydoc
---

This document will help you configure Incident Webhook to route alerts from monitoring tools or your internal (bespoke) systems into Squadcast. Incident Webhook can do both, trigger and resolve incidents in Squadcast, through HTTP POST requests.

Route detailed monitoring alerts coming in via Incident Webhook to the right users in Squadcast.

{{site.data.alerts.yellow-note-i-md}}
**Note:**

We also support outgoing webhooks. You can find detailed information on how to configure them [here](https://support.squadcast.com/docs/outgoing-webhooks).
{{site.data.alerts.end}}


## How to configure Incident Webhook

### In Squadcast: Using Incident Webhook as an Alert Source

**(1)** From the navigation bar on the left, select **Services**. Pick the applicable **Team** from the Team-picker on the top. Next, click on **Alert Sources** for the applicable Service

![](../../.gitbook/assets/alert\_source\_1.png)

**(2)** Search for **Incident Webhook** from the Alert Source drop-down and copy the Webhook URL. Use this Webhook URL endpoint to send `HTTP POST` requests

![](../../.gitbook/assets/apiv2\_1.png)

{{site.data.alerts.yellow-note-i}}
<b>Important</b><br/><br/>
<p>For an Alert Source to turn active (indicated by a <b>green dot - Receiving alerts</b> against the name of the Alert Source in the drop-down), you can either generate a test alert or wait for a real-time alert to be generated by the Alert Source.</p>
<p>An Alert Source is active if there is a recorded incident via that Alert Source for the Service in the last 30 days.</p>
{{site.data.alerts.end}}

{{site.data.alerts.blue-note}}
<b>Add header before making POST request</b>
<br/><br/><p>Ensure that you add a header <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">Content-Type</code> with value <code class="highlighter-rouge" style="color: #c7254e; background-color: #f9f2f4 !important;">application/json</code> while making the HTTP POST request</p>
{{site.data.alerts.end}}

The body of the POST request should contain the details of your incident in the following format:

```json
{
  "message": "This will be the incident message",
  "description": "This will be the incident description",
  "tags" : {
    "tagname1":"Tag value#1",
     "tagname2":"Tag value#2",
     "tagname3": {
       "color": "Valid HTML HEX Colour Notation goes here",
       "value":"Tag value#3"
     }
  },
  "status": "trigger",
  "event\_id": "6"
}
```

{{site.data.alerts.blue-note}}
<b>Mandatory fields within the JSON</b>
<br/><br/><p>Kindly note that the <b>message</b> and <b>description</b> fields in the JSON are mandatory to trigger an incident in Squadcast. You can enrich your incidents by adding other details optionally, in the same format as seen above in the example JSON</p>
{{site.data.alerts.end}}

{{site.data.alerts.red-note}}
<b>Payload Size Limitation</b>
<br/><br/><p></p>The payload size is limited to 30KB. Any payload that crosses this limit will not be processed. <br/>You will receive [HTTP Status Code 413](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/413) to notify you of this.
{{site.data.alerts.end}}

## Event Identification and Resolution

This section will give you an understanding of how one can associate alerts with Squadcast incidents and resolve them with an API call.

### Typical Incident JSON


```json
{
  "message": "This will be the incident message",
  "description": "This will be the incident description",
  "status": "trigger",
  "event\_id": "6"
}
```

 This triggers an incident and associates the incident with the `event\_id` value as specified. This `event\_id` can be used to resolve the above created incident with an API call.

To resolve an incident, a JSON with the format as shown below should be sent.

```json
{
  "status": "resolve",
  "event\_id": "6"
}
```

- The `status` field should be set to value `"resolve"` 
- The associated `event\_id` should also be sent along with this

{{site.data.alerts.blue-note}}
<b>Resolving an Incident with an API call: </b>
<br/><br/><p>To resolve an incident, <b>message</b> and <b>description</b> fields are not required to be sent.</p>
{{site.data.alerts.end}}

## Add a Tag From directly Incident JSON

This section will give you an understanding of how you can add tags to an incident straight from the Incident JSON using the Incident Webhook.

### Typical Incident JSON:

```json
{
   "message":"This will be the incident message",
   "description": "This will be the incident description",
   "tags": {
     "tagname1":"Tag value#1",
     "tagname2":"Tag value#2",
     "tagname3": {
       "color": "Valid HTML HEX Colour Notation goes here",
       "value":"Tag value#3"
     }
   }
}
```

### Example 1: Using `tags` to set *Severity* for the incident

```json
{
  	"message": "Error rates higher than usual",
    "description": "HTTP Error rates for srv\_90 is above 90 counts/hour",
    "tags": {
    	"severity": "high"
    }
}
```

{{site.data.alerts.blue-note}}
<b>Default colour for Tags: </b>
<br/><br/><p>If a colour code is not mentioned explicitly, then the system takes the default colour "<b>#808080</b>" (gray) for tags</p>
{{site.data.alerts.end}}

To specify a colour explicitly for `tags`:

```json
{
	"message": "Error rates higher than usual",
  "description": "HTTP Error rates for srv\_90 is above 90 counts/hour",
	"severity": {
  	"colour": "#FF0000",
  	"value":"backend"
  }
}
```

### Example 2: Adding different tags to an incident

```json
{
	"message": "Error rates higher than usual",
  "description": "HTTP Error rates for srv\_90 is above 90 counts/hour",
	"tags" : {
   	"priority": "P1",
	  "impact\_level": 5,
   	"classification": {
    	"color":"#FF0000",
     	"value":"backend"
     }
 	}
 }
 ```