---
title: Kibana
keywords: 
last_updated: 
summary: "Send alert details to Squadcast from Kibana"
sidebar: mydoc_sidebar
permalink: docs/kibana
folder: mydoc
---

This document will help you integrate Kibana with Squadcast.

[Kibana](https://www.elastic.co/kibana/) is a free and open user interface that lets you visualize your Elasticsearch data and navigate the Elastic Stack.

Route detailed alerts from Kibana to the right users in Squadcast.

## How to integrate Kibana with Squadcast

### In Squadcast: Using Kibana as an Alert Source

**(1)** From the navigation bar on the left, select **Services**. Pick the applicable **Team** from the Team-picker on the top. Next, click on **Alert Sources** for the applicable Service

![](../../.gitbook/assets/alert\_source\_1.png)

**(2)** Search for **Kibana** from the Alert Source drop-down and copy the Webhook URL

![](../../.gitbook/assets/kibana\_1.png)

{{site.data.alerts.yellow-note-i}}
<b>Important</b><br/><br/>
<p>For an Alert Source to turn active (indicated by a <b>green dot - Receiving alerts</b> against the name of the Alert Source in the drop-down), you can either generate a test alert or wait for a real-time alert to be generated by the Alert Source.</p>
<p>An Alert Source is active if there is a recorded incident via that Alert Source for the Service in the last 30 days.</p>
{{site.data.alerts.end}}

### In Kibana: Create a Squadcast webhook alert

**(1)** From the navigation bar on the left, select **Management** and then, select **Stack Management**

![](../../.gitbook/assets/kibana\_2.png)

**(2)** Select **Alerts and Insights** > **Rules and Connectors** 

![](../../.gitbook/assets/kibana\_3.png)

**(3)** Navigate to **Connectors** and click on **Create Connector**

![](../../.gitbook/assets/kibana\_4.png)

**(4)** Select **Webhook** as a Connector

![](../../.gitbook/assets/kibana\_5.png)

**(5)** Provide a name for **Connector name**, choose **Method** as `POST` and paste the previously copied Squadcast Webhook URL in the **URL** field. Click on **Save**

![](../../.gitbook/assets/kibana\_6.png)

**(6)** Head over to **Rules** and click on **Create Rules**. Provide a name for the rule and select any of the options from the supported rule scenarios:
    **(a)** APM AND USER EXPERIENCE
    **(b)** LOGS
    **(c)** MACHINE LEARNING
    **(d)** METRICS
    **(e)** UPTIME

Select **Webhook** in the **Action** section.

![](../../.gitbook/assets/kibana\_7.png)
![](../../.gitbook/assets/kibana\_8.png)

**(7)** Next, select the previously created Connector in the **Webhook connector** drop-down and paste the below **JSON** in the placeholder for **Body** and click on **Save**

{% raw %}
```json
{
    "actionGroupName": "{{alert.actionGroupName}}",
    "actionSubgroup": "{{alert.actionSubgroup}}",
    "alert_id": "{{alert.id}}",
    "actionGroup": "{{alert.actionGroup}}",
    "conditions": "{{context.conditions}}",
    "denominatorConditions": "{{context.denominatorConditions}}",
    "group": "{{context.group}}",
    "isRatio": "{{context.isRatio}}",
    "matchingDocuments": "{{context.matchingDocuments}}",
    "numeratorConditions": "{{context.numeratorConditions}}",
    "ratio": "{{context.ratio}}",
    "timestamp": "{{context.timestamp}}",
    "date": "{{date}}",
    "kibanaBaseUrl": "{{kibanaBaseUrl}}",
    "rule_id": "{{rule.id}}",
    "name": "{{rule.name}}",
    "spaceId": "{{rule.spaceId}}",
    "tags": "{{rule.tags}}",
    "type": "{{rule.type}}",
    "environment": "{{context.environment}}",
    "serviceName": "{{context.serviceName}}",
    "threshold": "{{context.threshold}}",
    "transactionType": "{{context.transactionType}}",
    "triggerValue": "{{context.triggerValue}}",
    "interval": "{{context.interval}}",
    "isInterim": "{{context.isInterim}}",
    "jobIds": "{{context.jobIds}}",
    "message": "{{context.message}}",
    "score": "{{context.score}}",
    "topInfluencers": "{{context.topInfluencers}}",
    "topRecords": "{{context.topRecords}}",
    "anomalyExplorerUrl": "{{context.anomalyExplorerUrl}}",
    "timestampIso8601": "{{context.timestampIso8601}}",
    "results": "{{context.results}}",
    "metric": "{{context.metric}}",
    "reason": "{{context.reason}}",
    "value": "{{context.value}}",
    "alertState": "{{context.alertState}}",
    "currentTriggerStarted": "{{state.currentTriggerStarted}}",
    "firstCheckedAt": "{{state.firstCheckedAt}}",
    "firstTriggeredAt": "{{state.firstTriggeredAt}}",
    "isTriggered": "{{state.isTriggered}}",
    "lastCheckedAt": "{{state.lastCheckedAt}}",
    "lastResolvedAt": "{{state.lastResolvedAt}}",
    "lastTriggeredAt": "{{state.lastTriggeredAt}}",
    "latestErrorMessage": "{{state.latestErrorMessage}}",
    "monitorId": "{{state.monitorId}}",
    "monitorName": "{{state.monitorName}}",
    "monitorType": "{{state.monitorType}}",
    "monitorUrl": "{{state.monitorUrl}}",
    "observerHostname": "{{state.observerHostname}}",
    "observerLocation": "{{state.observerLocation}}",
    "statusMessage": "{{state.statusMessage}}",
    "downMonitorsWithGeo": "{{context.downMonitorsWithGeo}}",
    "agingCommonNameAndDate": "{{state.agingCommonNameAndDate}}",
    "agingCount": "{{state.agingCount}}",
    "count": "{{state.count}}",
    "expiringCommonNameAndDate": "{{state.expiringCommonNameAndDate}}",
    "expiringCount": "{{state.expiringCount}}"
}
```
{% endraw %}

![](../../.gitbook/assets/kibana\_9.png)

That is it, you are now good to go! Whenever an alert is generated in Kibana, an incident will be created in Squadcast.

For any queries, please reach out to our Support team and they will be happy to assist you with your Kibana queries.
